{"ast":null,"code":"var _jsxFileName = \"/home/malek/Desktop/Epitech/projet/B-WEB-101-TLS-1-1-etodo-5/frontend/src/components/TodoList.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, collection, query, onSnapshot, addDoc, updateDoc, deleteDoc, doc, setDoc, setLogLevel } from 'firebase/firestore';\nimport { Plus, Trash2, Edit, X, AlertTriangle, CheckCircle } from 'lucide-react';\n\n// --- Global Setup (Mandatory Variables) ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\nsetLogLevel('Debug'); // Enable debug logging for Firestore\n\nconst STATUS_OPTIONS = ['not started', 'todo', 'in progress', 'done'];\n\n// --- Utility Functions ---\n\n/**\n * Ensures the date format is compatible with HTML datetime-local input (YYYY-MM-DDTHH:MM)\n * @param {string} dueTime - Firestore timestamp string (YYYY-MM-DD HH:MM:SS)\n * @returns {string} - Formatted string (YYYY-MM-DDTHH:MM)\n */\nconst formatDueTimeForInput = dueTime => {\n  if (!dueTime) return '';\n  try {\n    const [datePart, timePart] = dueTime.split(' ');\n    if (!datePart || !timePart) return '';\n    return `${datePart}T${timePart.substring(0, 5)}`;\n  } catch {\n    return '';\n  }\n};\n\n/**\n * Checks if a task is overdue (based on current time) and not yet done.\n * @param {string} dueTime\n * @returns {boolean}\n */\nconst isOverdue = (dueTime, status) => {\n  if (!dueTime || status === 'done') return false;\n  try {\n    const taskDueDate = new Date(dueTime);\n    return taskDueDate < new Date();\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Sorts todos by due time (earliest first).\n * @param {Array<Object>} todos\n * @returns {Array<Object>}\n */\nconst sortTodos = todos => todos.slice().sort((a, b) => new Date(a.due_time) - new Date(b.due_time));\n\n/**\n * Formats a timestamp for display.\n * @param {string} timestamp\n * @param {string} prefix\n * @returns {string}\n */\nconst formatTime = (timestamp, prefix) => {\n  if (!timestamp) return '';\n  try {\n    const date = new Date(timestamp);\n    return `${prefix}: ${date.toLocaleDateString()} ${date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    })}`;\n  } catch {\n    return `${prefix}: Invalid Date`;\n  }\n};\n\n// --- Confirmation Modal Component ---\nconst ConfirmModal = ({\n  show,\n  title,\n  message,\n  onConfirm,\n  onCancel\n}) => {\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full transform transition-all duration-300 scale-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-6 h-6 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Kanban Column Component ---\n_c = ConfirmModal;\nconst KanbanColumn = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c2 = _s(({\n  status,\n  todos,\n  updateStatus,\n  deleteTodo,\n  openEditModal\n}) => {\n  _s();\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    const todoId = e.dataTransfer.getData('todoId');\n    if (todoId) updateStatus(todoId, status);\n  }, [status, updateStatus]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n  }, []);\n  const displayHeader = useMemo(() => {\n    return {\n      'not started': 'Ideas / Backlog',\n      todo: 'Ready to Start',\n      'in progress': 'In Progress',\n      done: 'Completed'\n    }[status] || status;\n  }, [status]);\n  const columnStyle = {\n    'not started': 'bg-gray-100 border-t-4 border-gray-400',\n    todo: 'bg-blue-50 border-t-4 border-blue-500',\n    'in progress': 'bg-yellow-50 border-t-4 border-yellow-500',\n    done: 'bg-green-50 border-t-4 border-green-500'\n  }[status] || 'bg-gray-100';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col flex-shrink-0 w-full md:w-1/4 p-3 rounded-xl shadow-lg ${columnStyle}`,\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-bold text-gray-700 mb-4\",\n      children: [displayHeader, \" (\", todos.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow space-y-3 overflow-y-auto min-h-20 max-h-screen\",\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(TodoCard, {\n        todo: todo,\n        updateStatus: updateStatus,\n        deleteTodo: deleteTodo,\n        openEditModal: openEditModal\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 9\n  }, this);\n}, \"ZJsscddvj1oVJUotlZjvhMPIZ9U=\")), \"ZJsscddvj1oVJUotlZjvhMPIZ9U=\");\n\n// --- Todo Card Component ---\n_c3 = KanbanColumn;\nconst TodoCard = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c4 = _s2(({\n  todo,\n  deleteTodo,\n  updateStatus,\n  openEditModal\n}) => {\n  _s2();\n  const isDone = todo.status === 'done';\n  const isTaskOverdue = isOverdue(todo.due_time, todo.status);\n  const baseClass = \"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 cursor-grab border-l-4\";\n  const statusColor = {\n    'not started': 'border-gray-400',\n    todo: 'border-blue-500',\n    'in progress': 'border-yellow-500',\n    done: 'border-green-500'\n  }[todo.status] || 'border-gray-400';\n  const overdueClass = isTaskOverdue ? 'bg-red-100 border-red-500 ring-2 ring-red-500' : '';\n  const handleDragStart = useCallback(e => {\n    e.dataTransfer.setData('todoId', todo.id);\n  }, [todo.id]);\n  const handleEdit = useCallback(() => {\n    openEditModal(todo);\n  }, [todo, openEditModal]);\n  const handleDelete = useCallback(() => {\n    deleteTodo(todo.id);\n  }, [todo.id, deleteTodo]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${baseClass} ${statusColor} ${overdueClass}`,\n    draggable: true,\n    onDragStart: handleDragStart,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: `text-md font-semibold ${isDone ? 'line-through text-gray-400' : 'text-gray-800'}`,\n        children: todo.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-sm mt-1 mb-2 ${isDone ? 'line-through text-gray-400' : 'text-gray-600'}`,\n        children: todo.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), isTaskOverdue && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-xs font-bold text-red-600 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-3 h-3 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this), \" OVERDUE\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-xs text-gray-500 block\",\n        children: formatTime(todo.due_time, 'Due')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-2 mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEdit,\n        className: \"p-1 text-blue-500 hover:text-blue-700 rounded-full transition-colors\",\n        \"aria-label\": \"Edit Task\",\n        children: /*#__PURE__*/_jsxDEV(Edit, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        className: \"p-1 text-red-500 hover:text-red-700 rounded-full transition-colors\",\n        \"aria-label\": \"Remove Task\",\n        children: /*#__PURE__*/_jsxDEV(Trash2, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 9\n  }, this);\n}, \"Qkc9kYPBJ8ZiVhTLZajYwzJ8BME=\"), (prevProps, nextProps) => {\n  // Custom comparison to prevent re-render on parent changes unless the data itself changes\n  const prev = prevProps.todo;\n  const next = nextProps.todo;\n  return prev.id === next.id && prev.title === next.title && prev.description === next.description && prev.status === next.status && prev.due_time === next.due_time;\n}), \"Qkc9kYPBJ8ZiVhTLZajYwzJ8BME=\");\n\n// --- Edit Todo Modal Component (Custom Memoization FIX) ---\n_c5 = TodoCard;\nconst EditTodoModal = /*#__PURE__*/React.memo(_c6 = ({\n  editingTodo,\n  editFormData,\n  modalError,\n  closeEditModal,\n  editTodo,\n  handleEditTitleChange,\n  handleEditDescriptionChange,\n  handleEditDateChange,\n  handleEditStatusChange\n}) => {\n  if (!editingTodo) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 z-40 flex items-center justify-center p-4\",\n    onClick: closeEditModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-2xl p-6 max-w-lg w-full transform transition-all duration-300\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4 border-b pb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: [\"Edit Task: \", editingTodo.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeEditModal,\n          className: \"text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: editTodo,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700 mb-1\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: editFormData.title,\n            onChange: handleEditTitleChange,\n            required: true,\n            className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700 mb-1\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: editFormData.description,\n            onChange: handleEditDescriptionChange,\n            rows: \"3\",\n            className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-1\",\n              children: \"Due Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              name: \"dueDate\",\n              value: editFormData.dueDate,\n              onChange: handleEditDateChange,\n              className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n              autoComplete: \"off\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-1\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"status\",\n              value: editFormData.status,\n              onChange: handleEditStatusChange,\n              className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white\",\n              children: STATUS_OPTIONS.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: status,\n                children: status.charAt(0).toUpperCase() + status.slice(1)\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), modalError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p-2 bg-red-100 text-red-700 rounded-lg text-sm flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 29\n          }, this), modalError]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3 pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: closeEditModal,\n            className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors shadow-sm\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-md\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 9\n  }, this);\n  // Custom comparison function to fix the cursor jumping issue\n}, (prevProps, nextProps) => {\n  var _prevProps$editingTod, _nextProps$editingTod;\n  // 1. Check if the modal visibility/target task ID changed\n  if (((_prevProps$editingTod = prevProps.editingTodo) === null || _prevProps$editingTod === void 0 ? void 0 : _prevProps$editingTod.id) !== ((_nextProps$editingTod = nextProps.editingTodo) === null || _nextProps$editingTod === void 0 ? void 0 : _nextProps$editingTod.id)) {\n    return false;\n  }\n\n  // 2. Check form data fields individually (CRITICAL FIX)\n  const pf = prevProps.editFormData;\n  const nf = nextProps.editFormData;\n  if (pf.title !== nf.title || pf.description !== nf.description || pf.dueDate !== nf.dueDate || pf.status !== nf.status) {\n    return false;\n  }\n\n  // 3. Check error state\n  if (prevProps.modalError !== nextProps.modalError) return false;\n\n  // 4. All handlers are stable (due to useCallback), so return true if data matches.\n  return true;\n});\n\n// --- Main Todo List Component ---\n_c7 = EditTodoModal;\nconst TodoList = () => {\n  _s3();\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [userId, setUserId] = useState(null);\n  const [todos, setTodos] = useState([]);\n  const [newTodo, setNewTodo] = useState({\n    title: '',\n    description: '',\n    dueDate: ''\n  });\n  const [editingTodo, setEditingTodo] = useState(null);\n  const [editFormData, setEditFormData] = useState({\n    title: '',\n    description: '',\n    dueDate: '',\n    status: 'not started'\n  });\n  const [globalAppError, setGlobalAppError] = useState('');\n  const [modalError, setModalError] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [confirmingDelete, setConfirmingDelete] = useState(null); // Stores the ID of the todo to delete\n\n  // 1. Firebase Authentication Setup\n  useEffect(() => {\n    const handleAuth = async () => {\n      try {\n        if (initialAuthToken) {\n          await signInWithCustomToken(auth, initialAuthToken);\n        } else {\n          await signInAnonymously(auth);\n        }\n      } catch (error) {\n        console.error(\"Firebase Auth Error:\", error);\n        setGlobalAppError(\"Failed to authenticate with the application.\");\n      }\n    };\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n      }\n      setIsAuthReady(true);\n    });\n    handleAuth();\n    return () => unsubscribe();\n  }, []);\n\n  // 2. Real-Time Firestore Listener\n  useEffect(() => {\n    if (!isAuthReady || !userId) return;\n    const path = `artifacts/${appId}/users/${userId}/todos`;\n    const q = query(collection(db, path));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const fetchedTodos = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setTodos(sortTodos(fetchedTodos));\n    }, error => {\n      console.error(\"Firestore Error:\", error);\n      setGlobalAppError(\"Failed to fetch tasks in real-time.\");\n    });\n    return () => unsubscribe();\n  }, [isAuthReady, userId]);\n\n  // --- Modal/Form Handlers ---\n\n  const openEditModal = useCallback(todo => {\n    setEditingTodo(todo);\n    setEditFormData({\n      title: todo.title || '',\n      description: todo.description || '',\n      dueDate: formatDueTimeForInput(todo.due_time),\n      status: todo.status || 'not started'\n    });\n    setModalError('');\n  }, []);\n  const closeEditModal = useCallback(() => {\n    setEditingTodo(null);\n    setEditFormData({\n      title: '',\n      description: '',\n      dueDate: '',\n      status: 'not started'\n    });\n    setModalError('');\n  }, []);\n  const handleNewTodoTitleChange = useCallback(e => setNewTodo(prev => ({\n    ...prev,\n    title: e.target.value\n  })), []);\n  const handleNewTodoDescriptionChange = useCallback(e => setNewTodo(prev => ({\n    ...prev,\n    description: e.target.value\n  })), []);\n  const handleNewTodoDateChange = useCallback(e => setNewTodo(prev => ({\n    ...prev,\n    dueDate: e.target.value\n  })), []);\n  const handleSearchChange = useCallback(e => setSearchQuery(e.target.value), []);\n\n  // Edit form handlers (must update a new object reference on every change)\n  const handleEditTitleChange = useCallback(e => setEditFormData(prev => ({\n    ...prev,\n    title: e.target.value\n  })), []);\n  const handleEditDescriptionChange = useCallback(e => setEditFormData(prev => ({\n    ...prev,\n    description: e.target.value\n  })), []);\n  const handleEditDateChange = useCallback(e => setEditFormData(prev => ({\n    ...prev,\n    dueDate: e.target.value\n  })), []);\n  const handleEditStatusChange = useCallback(e => setEditFormData(prev => ({\n    ...prev,\n    status: e.target.value\n  })), []);\n\n  // --- Firestore CRUD Operations ---\n\n  // Utility function to format date for Firestore\n  const getFirestoreDueTime = inputDate => {\n    if (!inputDate) return null;\n    // inputDate is YYYY-MM-DDTHH:MM, Firebase needs YYYY-MM-DD HH:MM:SS\n    return inputDate.replace('T', ' ') + ':00';\n  };\n  const addTodo = useCallback(async e => {\n    e.preventDefault();\n    setGlobalAppError('');\n    if (!newTodo.title) return setGlobalAppError(\"Title cannot be empty.\");\n    const effectiveDueTime = getFirestoreDueTime(newTodo.dueDate);\n    const todoPayload = {\n      title: newTodo.title,\n      description: newTodo.description,\n      status: 'not started',\n      due_time: effectiveDueTime,\n      created_at: new Date().toISOString()\n    };\n    try {\n      await addDoc(collection(db, `artifacts/${appId}/users/${userId}/todos`), todoPayload);\n      setNewTodo({\n        title: '',\n        description: '',\n        dueDate: ''\n      }); // Clear form\n    } catch (err) {\n      console.error(\"Add Todo Error:\", err);\n      setGlobalAppError(`Failed to add task: ${err.message}`);\n    }\n  }, [newTodo, userId]);\n  const editTodo = useCallback(async e => {\n    e.preventDefault();\n    if (!editingTodo) return;\n    setModalError('');\n    if (!editFormData.title) return setModalError(\"Title cannot be empty.\");\n    const todoRef = doc(db, `artifacts/${appId}/users/${userId}/todos`, editingTodo.id);\n    const effectiveDueTime = getFirestoreDueTime(editFormData.dueDate);\n    const updatePayload = {\n      title: editFormData.title,\n      description: editFormData.description,\n      status: editFormData.status,\n      due_time: effectiveDueTime\n    };\n    try {\n      // Use setDoc with merge: true for partial updates\n      await setDoc(todoRef, updatePayload, {\n        merge: true\n      });\n      closeEditModal();\n    } catch (err) {\n      console.error(\"Edit Todo Error:\", err);\n      setModalError(`Failed to update task: ${err.message}`);\n    }\n  }, [editingTodo, editFormData, userId, closeEditModal]);\n  const updateStatus = useCallback(async (id, newStatus) => {\n    setGlobalAppError('');\n    try {\n      const todoRef = doc(db, `artifacts/${appId}/users/${userId}/todos`, id);\n      await updateDoc(todoRef, {\n        status: newStatus\n      });\n    } catch (err) {\n      console.error(\"Update Status Error:\", err);\n      setGlobalAppError(`Failed to update task status: ${err.message}`);\n    }\n  }, [userId]);\n  const openDeleteConfirm = useCallback(id => {\n    setConfirmingDelete(id);\n  }, []);\n  const closeDeleteConfirm = useCallback(() => {\n    setConfirmingDelete(null);\n  }, []);\n  const confirmAndDelete = useCallback(async () => {\n    const id = confirmingDelete;\n    if (!id) return;\n    setGlobalAppError('');\n    closeDeleteConfirm();\n    try {\n      const todoRef = doc(db, `artifacts/${appId}/users/${userId}/todos`, id);\n      await deleteDoc(todoRef);\n    } catch (err) {\n      console.error(\"Delete Todo Error:\", err);\n      setGlobalAppError(`Failed to delete task: ${err.message}`);\n    }\n  }, [confirmingDelete, userId, closeDeleteConfirm]);\n\n  // --- Filtering and Grouping ---\n  const filteredTodos = useMemo(() => {\n    return todos.filter(todo => {\n      var _todo$title, _todo$description;\n      return ((_todo$title = todo.title) === null || _todo$title === void 0 ? void 0 : _todo$title.toLowerCase().includes(searchQuery.toLowerCase())) || ((_todo$description = todo.description) === null || _todo$description === void 0 ? void 0 : _todo$description.toLowerCase().includes(searchQuery.toLowerCase()));\n    });\n  }, [todos, searchQuery]);\n  const groupedTodos = useMemo(() => {\n    return filteredTodos.reduce((acc, todo) => {\n      const status = todo.status || 'not started';\n      if (!acc[status]) acc[status] = [];\n      acc[status].push(todo);\n      return acc;\n    }, {});\n  }, [filteredTodos]);\n  if (!isAuthReady) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl text-gray-500\",\n        children: \"Loading Kanban Board...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Pass openDeleteConfirm to TodoCard instead of deleteTodo\n  const cardDeleteHandler = useCallback(id => openDeleteConfirm(id), [openDeleteConfirm]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\",\n      children: \"Real-Time Kanban Task Board\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500 mb-4\",\n      children: [\"User ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-mono bg-gray-200 p-1 rounded-sm\",\n        children: userId || 'N/A'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 13\n    }, this), globalAppError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm font-medium flex items-center shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-5 h-5 mr-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 21\n      }, this), globalAppError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row lg:space-x-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search tasks by title or description...\",\n        className: \"flex-shrink-0 lg:w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-shadow mb-4 lg:mb-0 shadow-sm\",\n        value: searchQuery,\n        onChange: handleSearchChange,\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: addTodo,\n        className: \"flex flex-col lg:flex-row lg:space-x-3 lg:w-2/3 space-y-3 lg:space-y-0 p-4 bg-white rounded-xl shadow-md border\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Task Title (Required)\",\n          value: newTodo.title,\n          onChange: handleNewTodoTitleChange,\n          required: true,\n          className: \"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Description (Optional)\",\n          value: newTodo.description,\n          onChange: handleNewTodoDescriptionChange,\n          className: \"p-2 border border-gray-300 rounded-lg w-full lg:w-1/3 focus:border-blue-500\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          title: \"Due Date and Time\",\n          value: newTodo.dueDate,\n          onChange: handleNewTodoDateChange,\n          className: \"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500 bg-white\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"flex items-center justify-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors w-full lg:w-1/6 shadow-lg hover:shadow-xl\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 25\n          }, this), \" Add Task\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6 overflow-x-auto pb-4\",\n      children: STATUS_OPTIONS.map(status => /*#__PURE__*/_jsxDEV(KanbanColumn, {\n        status: status,\n        todos: groupedTodos[status] || [],\n        updateStatus: updateStatus,\n        deleteTodo: cardDeleteHandler // Pass the confirmation handler\n        ,\n        openEditModal: openEditModal\n      }, status, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditTodoModal, {\n      editingTodo: editingTodo,\n      editFormData: editFormData,\n      modalError: modalError,\n      closeEditModal: closeEditModal,\n      editTodo: editTodo,\n      handleEditTitleChange: handleEditTitleChange,\n      handleEditDescriptionChange: handleEditDescriptionChange,\n      handleEditDateChange: handleEditDateChange,\n      handleEditStatusChange: handleEditStatusChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n      show: !!confirmingDelete,\n      title: \"Confirm Deletion\",\n      message: \"Are you sure you want to permanently delete this task? This action cannot be undone.\",\n      onConfirm: confirmAndDelete,\n      onCancel: closeDeleteConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 9\n  }, this);\n};\n_s3(TodoList, \"XJPhDcnQsO/znLdm1adUzwki3bs=\");\n_c8 = TodoList;\nexport default TodoList;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"ConfirmModal\");\n$RefreshReg$(_c2, \"KanbanColumn$React.memo\");\n$RefreshReg$(_c3, \"KanbanColumn\");\n$RefreshReg$(_c4, \"TodoCard$React.memo\");\n$RefreshReg$(_c5, \"TodoCard\");\n$RefreshReg$(_c6, \"EditTodoModal$React.memo\");\n$RefreshReg$(_c7, \"EditTodoModal\");\n$RefreshReg$(_c8, \"TodoList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","initializeApp","getAuth","signInAnonymously","signInWithCustomToken","onAuthStateChanged","getFirestore","collection","query","onSnapshot","addDoc","updateDoc","deleteDoc","doc","setDoc","setLogLevel","Plus","Trash2","Edit","X","AlertTriangle","CheckCircle","jsxDEV","_jsxDEV","appId","__app_id","firebaseConfig","__firebase_config","JSON","parse","initialAuthToken","__initial_auth_token","app","db","auth","STATUS_OPTIONS","formatDueTimeForInput","dueTime","datePart","timePart","split","substring","isOverdue","status","taskDueDate","Date","sortTodos","todos","slice","sort","a","b","due_time","formatTime","timestamp","prefix","date","toLocaleDateString","toLocaleTimeString","hour","minute","ConfirmModal","show","title","message","onConfirm","onCancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","KanbanColumn","_s","memo","_c2","updateStatus","deleteTodo","openEditModal","handleDrop","e","preventDefault","todoId","dataTransfer","getData","handleDragOver","displayHeader","todo","done","columnStyle","onDrop","onDragOver","length","map","TodoCard","id","_c3","_s2","_c4","isDone","isTaskOverdue","baseClass","statusColor","overdueClass","handleDragStart","setData","handleEdit","handleDelete","draggable","onDragStart","description","prevProps","nextProps","prev","next","_c5","EditTodoModal","_c6","editingTodo","editFormData","modalError","closeEditModal","editTodo","handleEditTitleChange","handleEditDescriptionChange","handleEditDateChange","handleEditStatusChange","stopPropagation","onSubmit","type","name","value","onChange","required","autoComplete","rows","dueDate","charAt","toUpperCase","_prevProps$editingTod","_nextProps$editingTod","pf","nf","_c7","TodoList","_s3","isAuthReady","setIsAuthReady","userId","setUserId","setTodos","newTodo","setNewTodo","setEditingTodo","setEditFormData","globalAppError","setGlobalAppError","setModalError","searchQuery","setSearchQuery","confirmingDelete","setConfirmingDelete","handleAuth","error","console","unsubscribe","user","uid","path","q","snapshot","fetchedTodos","docs","data","handleNewTodoTitleChange","target","handleNewTodoDescriptionChange","handleNewTodoDateChange","handleSearchChange","getFirestoreDueTime","inputDate","replace","addTodo","effectiveDueTime","todoPayload","created_at","toISOString","err","todoRef","updatePayload","merge","newStatus","openDeleteConfirm","closeDeleteConfirm","confirmAndDelete","filteredTodos","filter","_todo$title","_todo$description","toLowerCase","includes","groupedTodos","reduce","acc","push","cardDeleteHandler","placeholder","_c8","$RefreshReg$"],"sources":["/home/malek/Desktop/Epitech/projet/B-WEB-101-TLS-1-1-etodo-5/frontend/src/components/TodoList.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, collection, query, onSnapshot, addDoc, updateDoc, deleteDoc, doc, setDoc, setLogLevel } from 'firebase/firestore';\nimport { Plus, Trash2, Edit, X, AlertTriangle, CheckCircle } from 'lucide-react';\n\n// --- Global Setup (Mandatory Variables) ---\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};\nconst initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\nsetLogLevel('Debug'); // Enable debug logging for Firestore\n\nconst STATUS_OPTIONS = ['not started', 'todo', 'in progress', 'done'];\n\n// --- Utility Functions ---\n\n/**\n * Ensures the date format is compatible with HTML datetime-local input (YYYY-MM-DDTHH:MM)\n * @param {string} dueTime - Firestore timestamp string (YYYY-MM-DD HH:MM:SS)\n * @returns {string} - Formatted string (YYYY-MM-DDTHH:MM)\n */\nconst formatDueTimeForInput = (dueTime) => {\n    if (!dueTime) return '';\n    try {\n        const [datePart, timePart] = dueTime.split(' ');\n        if (!datePart || !timePart) return '';\n        return `${datePart}T${timePart.substring(0, 5)}`;\n    } catch {\n        return '';\n    }\n};\n\n/**\n * Checks if a task is overdue (based on current time) and not yet done.\n * @param {string} dueTime\n * @returns {boolean}\n */\nconst isOverdue = (dueTime, status) => {\n    if (!dueTime || status === 'done') return false;\n    try {\n        const taskDueDate = new Date(dueTime);\n        return taskDueDate < new Date();\n    } catch {\n        return false;\n    }\n};\n\n/**\n * Sorts todos by due time (earliest first).\n * @param {Array<Object>} todos\n * @returns {Array<Object>}\n */\nconst sortTodos = (todos) => todos.slice().sort((a, b) => new Date(a.due_time) - new Date(b.due_time));\n\n/**\n * Formats a timestamp for display.\n * @param {string} timestamp\n * @param {string} prefix\n * @returns {string}\n */\nconst formatTime = (timestamp, prefix) => {\n    if (!timestamp) return '';\n    try {\n        const date = new Date(timestamp);\n        return `${prefix}: ${date.toLocaleDateString()} ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;\n    } catch {\n        return `${prefix}: Invalid Date`;\n    }\n};\n\n// --- Confirmation Modal Component ---\nconst ConfirmModal = ({ show, title, message, onConfirm, onCancel }) => {\n    if (!show) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full transform transition-all duration-300 scale-100\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                    <AlertTriangle className=\"w-6 h-6 text-red-500\" />\n                    <h3 className=\"text-lg font-semibold text-gray-800\">{title}</h3>\n                </div>\n                <p className=\"text-gray-600 mb-6\">{message}</p>\n                <div className=\"flex justify-end space-x-3\">\n                    <button\n                        onClick={onCancel}\n                        className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        onClick={onConfirm}\n                        className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors\"\n                    >\n                        Delete\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// --- Kanban Column Component ---\nconst KanbanColumn = React.memo(({ status, todos, updateStatus, deleteTodo, openEditModal }) => {\n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        const todoId = e.dataTransfer.getData('todoId');\n        if (todoId) updateStatus(todoId, status);\n    }, [status, updateStatus]);\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n    }, []);\n\n    const displayHeader = useMemo(() => {\n        return {\n            'not started': 'Ideas / Backlog',\n            todo: 'Ready to Start',\n            'in progress': 'In Progress',\n            done: 'Completed'\n        }[status] || status;\n    }, [status]);\n\n    const columnStyle = {\n        'not started': 'bg-gray-100 border-t-4 border-gray-400',\n        todo: 'bg-blue-50 border-t-4 border-blue-500',\n        'in progress': 'bg-yellow-50 border-t-4 border-yellow-500',\n        done: 'bg-green-50 border-t-4 border-green-500',\n    }[status] || 'bg-gray-100';\n\n    return (\n        <div\n            className={`flex flex-col flex-shrink-0 w-full md:w-1/4 p-3 rounded-xl shadow-lg ${columnStyle}`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n        >\n            <h2 className=\"text-lg font-bold text-gray-700 mb-4\">{displayHeader} ({todos.length})</h2>\n            <div className=\"flex-grow space-y-3 overflow-y-auto min-h-20 max-h-screen\">\n                {todos.map(todo => (\n                    <TodoCard\n                        key={todo.id}\n                        todo={todo}\n                        updateStatus={updateStatus}\n                        deleteTodo={deleteTodo}\n                        openEditModal={openEditModal}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n});\n\n// --- Todo Card Component ---\nconst TodoCard = React.memo(({ todo, deleteTodo, updateStatus, openEditModal }) => {\n    const isDone = todo.status === 'done';\n    const isTaskOverdue = isOverdue(todo.due_time, todo.status);\n\n    const baseClass = \"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 cursor-grab border-l-4\";\n    const statusColor = {\n        'not started': 'border-gray-400',\n        todo: 'border-blue-500',\n        'in progress': 'border-yellow-500',\n        done: 'border-green-500',\n    }[todo.status] || 'border-gray-400';\n\n    const overdueClass = isTaskOverdue ? 'bg-red-100 border-red-500 ring-2 ring-red-500' : '';\n\n    const handleDragStart = useCallback((e) => {\n        e.dataTransfer.setData('todoId', todo.id);\n    }, [todo.id]);\n\n    const handleEdit = useCallback(() => {\n        openEditModal(todo);\n    }, [todo, openEditModal]);\n\n    const handleDelete = useCallback(() => {\n        deleteTodo(todo.id);\n    }, [todo.id, deleteTodo]);\n\n    return (\n        <div\n            className={`${baseClass} ${statusColor} ${overdueClass}`}\n            draggable\n            onDragStart={handleDragStart}\n        >\n            <div className=\"card-content\">\n                <h3 className={`text-md font-semibold ${isDone ? 'line-through text-gray-400' : 'text-gray-800'}`}>\n                    {todo.title}\n                </h3>\n                <p className={`text-sm mt-1 mb-2 ${isDone ? 'line-through text-gray-400' : 'text-gray-600'}`}>\n                    {todo.description}\n                </p>\n                {isTaskOverdue && (\n                    <div className=\"flex items-center text-xs font-bold text-red-600 mb-2\">\n                        <AlertTriangle className=\"w-3 h-3 mr-1\" /> OVERDUE\n                    </div>\n                )}\n                <small className=\"text-xs text-gray-500 block\">\n                    {formatTime(todo.due_time, 'Due')}\n                </small>\n            </div>\n            <div className=\"flex justify-end space-x-2 mt-3\">\n                <button\n                    onClick={handleEdit}\n                    className=\"p-1 text-blue-500 hover:text-blue-700 rounded-full transition-colors\"\n                    aria-label=\"Edit Task\"\n                >\n                    <Edit className=\"w-4 h-4\" />\n                </button>\n                <button\n                    onClick={handleDelete}\n                    className=\"p-1 text-red-500 hover:text-red-700 rounded-full transition-colors\"\n                    aria-label=\"Remove Task\"\n                >\n                    <Trash2 className=\"w-4 h-4\" />\n                </button>\n            </div>\n        </div>\n    );\n}, (prevProps, nextProps) => {\n    // Custom comparison to prevent re-render on parent changes unless the data itself changes\n    const prev = prevProps.todo;\n    const next = nextProps.todo;\n    return prev.id === next.id &&\n        prev.title === next.title &&\n        prev.description === next.description &&\n        prev.status === next.status &&\n        prev.due_time === next.due_time;\n});\n\n// --- Edit Todo Modal Component (Custom Memoization FIX) ---\nconst EditTodoModal = React.memo(({\n    editingTodo,\n    editFormData,\n    modalError,\n    closeEditModal,\n    editTodo,\n    handleEditTitleChange,\n    handleEditDescriptionChange,\n    handleEditDateChange,\n    handleEditStatusChange\n}) => {\n    if (!editingTodo) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-40 flex items-center justify-center p-4\" onClick={closeEditModal}>\n            <div className=\"bg-white rounded-2xl shadow-2xl p-6 max-w-lg w-full transform transition-all duration-300\" onClick={e => e.stopPropagation()}>\n                <div className=\"flex justify-between items-center mb-4 border-b pb-2\">\n                    <h2 className=\"text-xl font-bold text-gray-800\">Edit Task: {editingTodo.title}</h2>\n                    <button onClick={closeEditModal} className=\"text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5\" />\n                    </button>\n                </div>\n\n                <form onSubmit={editTodo} className=\"space-y-4\">\n                    <div className=\"flex flex-col\">\n                        <label className=\"text-sm font-medium text-gray-700 mb-1\">Title</label>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            value={editFormData.title}\n                            onChange={handleEditTitleChange}\n                            required\n                            className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                            autoComplete=\"off\"\n                        />\n                    </div>\n                    <div className=\"flex flex-col\">\n                        <label className=\"text-sm font-medium text-gray-700 mb-1\">Description</label>\n                        <textarea\n                            name=\"description\"\n                            value={editFormData.description}\n                            onChange={handleEditDescriptionChange}\n                            rows=\"3\"\n                            className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                            autoComplete=\"off\"\n                        />\n                    </div>\n                    <div className=\"flex space-x-4\">\n                        <div className=\"flex flex-col w-1/2\">\n                            <label className=\"text-sm font-medium text-gray-700 mb-1\">Due Date</label>\n                            <input\n                                type=\"datetime-local\"\n                                name=\"dueDate\"\n                                value={editFormData.dueDate}\n                                onChange={handleEditDateChange}\n                                className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                                autoComplete=\"off\"\n                            />\n                        </div>\n                        <div className=\"flex flex-col w-1/2\">\n                            <label className=\"text-sm font-medium text-gray-700 mb-1\">Status</label>\n                            <select\n                                name=\"status\"\n                                value={editFormData.status}\n                                onChange={handleEditStatusChange}\n                                className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white\"\n                            >\n                                {STATUS_OPTIONS.map(status => (\n                                    <option key={status} value={status}>\n                                        {status.charAt(0).toUpperCase() + status.slice(1)}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                    </div>\n\n                    {modalError && (\n                        <p className=\"p-2 bg-red-100 text-red-700 rounded-lg text-sm flex items-center\">\n                            <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                            {modalError}\n                        </p>\n                    )}\n\n                    <div className=\"flex justify-end space-x-3 pt-2\">\n                        <button type=\"button\" onClick={closeEditModal} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors shadow-sm\">\n                            Cancel\n                        </button>\n                        <button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-md\">\n                            Save Changes\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n    // Custom comparison function to fix the cursor jumping issue\n}, (prevProps, nextProps) => {\n    // 1. Check if the modal visibility/target task ID changed\n    if (prevProps.editingTodo?.id !== nextProps.editingTodo?.id) {\n        return false;\n    }\n\n    // 2. Check form data fields individually (CRITICAL FIX)\n    const pf = prevProps.editFormData;\n    const nf = nextProps.editFormData;\n    if (pf.title !== nf.title ||\n        pf.description !== nf.description ||\n        pf.dueDate !== nf.dueDate ||\n        pf.status !== nf.status) {\n        return false;\n    }\n\n    // 3. Check error state\n    if (prevProps.modalError !== nextProps.modalError) return false;\n\n    // 4. All handlers are stable (due to useCallback), so return true if data matches.\n    return true;\n});\n\n// --- Main Todo List Component ---\nconst TodoList = () => {\n    const [isAuthReady, setIsAuthReady] = useState(false);\n    const [userId, setUserId] = useState(null);\n    const [todos, setTodos] = useState([]);\n    const [newTodo, setNewTodo] = useState({ title: '', description: '', dueDate: '' });\n    const [editingTodo, setEditingTodo] = useState(null);\n    const [editFormData, setEditFormData] = useState({ title: '', description: '', dueDate: '', status: 'not started' });\n    const [globalAppError, setGlobalAppError] = useState('');\n    const [modalError, setModalError] = useState('');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [confirmingDelete, setConfirmingDelete] = useState(null); // Stores the ID of the todo to delete\n\n    // 1. Firebase Authentication Setup\n    useEffect(() => {\n        const handleAuth = async () => {\n            try {\n                if (initialAuthToken) {\n                    await signInWithCustomToken(auth, initialAuthToken);\n                } else {\n                    await signInAnonymously(auth);\n                }\n            } catch (error) {\n                console.error(\"Firebase Auth Error:\", error);\n                setGlobalAppError(\"Failed to authenticate with the application.\");\n            }\n        };\n\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\n            if (user) {\n                setUserId(user.uid);\n            }\n            setIsAuthReady(true);\n        });\n\n        handleAuth();\n        return () => unsubscribe();\n    }, []);\n\n    // 2. Real-Time Firestore Listener\n    useEffect(() => {\n        if (!isAuthReady || !userId) return;\n\n        const path = `artifacts/${appId}/users/${userId}/todos`;\n        const q = query(collection(db, path));\n\n        const unsubscribe = onSnapshot(q, (snapshot) => {\n            const fetchedTodos = snapshot.docs.map(doc => ({\n                id: doc.id,\n                ...doc.data()\n            }));\n            setTodos(sortTodos(fetchedTodos));\n        }, (error) => {\n            console.error(\"Firestore Error:\", error);\n            setGlobalAppError(\"Failed to fetch tasks in real-time.\");\n        });\n\n        return () => unsubscribe();\n    }, [isAuthReady, userId]);\n\n    // --- Modal/Form Handlers ---\n\n    const openEditModal = useCallback((todo) => {\n        setEditingTodo(todo);\n        setEditFormData({\n            title: todo.title || '',\n            description: todo.description || '',\n            dueDate: formatDueTimeForInput(todo.due_time),\n            status: todo.status || 'not started'\n        });\n        setModalError('');\n    }, []);\n\n    const closeEditModal = useCallback(() => {\n        setEditingTodo(null);\n        setEditFormData({ title: '', description: '', dueDate: '', status: 'not started' });\n        setModalError('');\n    }, []);\n\n    const handleNewTodoTitleChange = useCallback((e) => setNewTodo(prev => ({ ...prev, title: e.target.value })), []);\n    const handleNewTodoDescriptionChange = useCallback((e) => setNewTodo(prev => ({ ...prev, description: e.target.value })), []);\n    const handleNewTodoDateChange = useCallback((e) => setNewTodo(prev => ({ ...prev, dueDate: e.target.value })), []);\n    const handleSearchChange = useCallback((e) => setSearchQuery(e.target.value), []);\n\n    // Edit form handlers (must update a new object reference on every change)\n    const handleEditTitleChange = useCallback((e) => setEditFormData(prev => ({ ...prev, title: e.target.value })), []);\n    const handleEditDescriptionChange = useCallback((e) => setEditFormData(prev => ({ ...prev, description: e.target.value })), []);\n    const handleEditDateChange = useCallback((e) => setEditFormData(prev => ({ ...prev, dueDate: e.target.value })), []);\n    const handleEditStatusChange = useCallback((e) => setEditFormData(prev => ({ ...prev, status: e.target.value })), []);\n\n    // --- Firestore CRUD Operations ---\n\n    // Utility function to format date for Firestore\n    const getFirestoreDueTime = (inputDate) => {\n        if (!inputDate) return null;\n        // inputDate is YYYY-MM-DDTHH:MM, Firebase needs YYYY-MM-DD HH:MM:SS\n        return inputDate.replace('T', ' ') + ':00';\n    };\n\n    const addTodo = useCallback(async (e) => {\n        e.preventDefault();\n        setGlobalAppError('');\n        if (!newTodo.title) return setGlobalAppError(\"Title cannot be empty.\");\n\n        const effectiveDueTime = getFirestoreDueTime(newTodo.dueDate);\n        const todoPayload = {\n            title: newTodo.title,\n            description: newTodo.description,\n            status: 'not started',\n            due_time: effectiveDueTime,\n            created_at: new Date().toISOString(),\n        };\n\n        try {\n            await addDoc(collection(db, `artifacts/${appId}/users/${userId}/todos`), todoPayload);\n            setNewTodo({ title: '', description: '', dueDate: '' }); // Clear form\n        } catch (err) {\n            console.error(\"Add Todo Error:\", err);\n            setGlobalAppError(`Failed to add task: ${err.message}`);\n        }\n    }, [newTodo, userId]);\n\n    const editTodo = useCallback(async (e) => {\n        e.preventDefault();\n        if (!editingTodo) return;\n        setModalError('');\n        if (!editFormData.title) return setModalError(\"Title cannot be empty.\");\n\n        const todoRef = doc(db, `artifacts/${appId}/users/${userId}/todos`, editingTodo.id);\n        const effectiveDueTime = getFirestoreDueTime(editFormData.dueDate);\n\n        const updatePayload = {\n            title: editFormData.title,\n            description: editFormData.description,\n            status: editFormData.status,\n            due_time: effectiveDueTime\n        };\n\n        try {\n            // Use setDoc with merge: true for partial updates\n            await setDoc(todoRef, updatePayload, { merge: true });\n            closeEditModal();\n        } catch (err) {\n            console.error(\"Edit Todo Error:\", err);\n            setModalError(`Failed to update task: ${err.message}`);\n        }\n    }, [editingTodo, editFormData, userId, closeEditModal]);\n\n    const updateStatus = useCallback(async (id, newStatus) => {\n        setGlobalAppError('');\n        try {\n            const todoRef = doc(db, `artifacts/${appId}/users/${userId}/todos`, id);\n            await updateDoc(todoRef, { status: newStatus });\n        } catch (err) {\n            console.error(\"Update Status Error:\", err);\n            setGlobalAppError(`Failed to update task status: ${err.message}`);\n        }\n    }, [userId]);\n\n    const openDeleteConfirm = useCallback((id) => {\n        setConfirmingDelete(id);\n    }, []);\n\n    const closeDeleteConfirm = useCallback(() => {\n        setConfirmingDelete(null);\n    }, []);\n\n    const confirmAndDelete = useCallback(async () => {\n        const id = confirmingDelete;\n        if (!id) return;\n        setGlobalAppError('');\n        closeDeleteConfirm();\n\n        try {\n            const todoRef = doc(db, `artifacts/${appId}/users/${userId}/todos`, id);\n            await deleteDoc(todoRef);\n        } catch (err) {\n            console.error(\"Delete Todo Error:\", err);\n            setGlobalAppError(`Failed to delete task: ${err.message}`);\n        }\n    }, [confirmingDelete, userId, closeDeleteConfirm]);\n\n\n    // --- Filtering and Grouping ---\n    const filteredTodos = useMemo(() => {\n        return todos.filter(todo =>\n            todo.title?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            todo.description?.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n    }, [todos, searchQuery]);\n\n    const groupedTodos = useMemo(() => {\n        return filteredTodos.reduce((acc, todo) => {\n            const status = todo.status || 'not started';\n            if (!acc[status]) acc[status] = [];\n            acc[status].push(todo);\n            return acc;\n        }, {});\n    }, [filteredTodos]);\n\n    if (!isAuthReady) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n                <p className=\"text-xl text-gray-500\">Loading Kanban Board...</p>\n            </div>\n        );\n    }\n\n    // Pass openDeleteConfirm to TodoCard instead of deleteTodo\n    const cardDeleteHandler = useCallback((id) => openDeleteConfirm(id), [openDeleteConfirm]);\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 p-6 font-sans\">\n            <h1 className=\"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\">\n                Real-Time Kanban Task Board\n            </h1>\n            <p className=\"text-xs text-gray-500 mb-4\">\n                User ID: <span className=\"font-mono bg-gray-200 p-1 rounded-sm\">{userId || 'N/A'}</span>\n            </p>\n\n            {globalAppError && (\n                <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm font-medium flex items-center shadow-md\">\n                    <AlertTriangle className=\"w-5 h-5 mr-3\" />\n                    {globalAppError}\n                </div>\n            )}\n\n            {/* Controls and Form */}\n            <div className=\"flex flex-col lg:flex-row lg:space-x-6 mb-6\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search tasks by title or description...\"\n                    className=\"flex-shrink-0 lg:w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-shadow mb-4 lg:mb-0 shadow-sm\"\n                    value={searchQuery}\n                    onChange={handleSearchChange}\n                    autoComplete=\"off\"\n                />\n\n                <form onSubmit={addTodo} className=\"flex flex-col lg:flex-row lg:space-x-3 lg:w-2/3 space-y-3 lg:space-y-0 p-4 bg-white rounded-xl shadow-md border\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Task Title (Required)\"\n                        value={newTodo.title}\n                        onChange={handleNewTodoTitleChange}\n                        required\n                        className=\"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500\"\n                        autoComplete=\"off\"\n                    />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Description (Optional)\"\n                        value={newTodo.description}\n                        onChange={handleNewTodoDescriptionChange}\n                        className=\"p-2 border border-gray-300 rounded-lg w-full lg:w-1/3 focus:border-blue-500\"\n                        autoComplete=\"off\"\n                    />\n                    <input\n                        type=\"datetime-local\"\n                        title=\"Due Date and Time\"\n                        value={newTodo.dueDate}\n                        onChange={handleNewTodoDateChange}\n                        className=\"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500 bg-white\"\n                        autoComplete=\"off\"\n                    />\n                    <button\n                        type=\"submit\"\n                        className=\"flex items-center justify-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors w-full lg:w-1/6 shadow-lg hover:shadow-xl\"\n                    >\n                        <Plus className=\"w-4 h-4 mr-1\" /> Add Task\n                    </button>\n                </form>\n            </div>\n\n            {/* Kanban Board */}\n            <div className=\"flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6 overflow-x-auto pb-4\">\n                {STATUS_OPTIONS.map(status => (\n                    <KanbanColumn\n                        key={status}\n                        status={status}\n                        todos={groupedTodos[status] || []}\n                        updateStatus={updateStatus}\n                        deleteTodo={cardDeleteHandler} // Pass the confirmation handler\n                        openEditModal={openEditModal}\n                    />\n                ))}\n            </div>\n\n            {/* Edit Modal */}\n            <EditTodoModal\n                editingTodo={editingTodo}\n                editFormData={editFormData}\n                modalError={modalError}\n                closeEditModal={closeEditModal}\n                editTodo={editTodo}\n                handleEditTitleChange={handleEditTitleChange}\n                handleEditDescriptionChange={handleEditDescriptionChange}\n                handleEditDateChange={handleEditDateChange}\n                handleEditStatusChange={handleEditStatusChange}\n            />\n\n            {/* Delete Confirmation Modal */}\n            <ConfirmModal\n                show={!!confirmingDelete}\n                title=\"Confirm Deletion\"\n                message=\"Are you sure you want to permanently delete this task? This action cannot be undone.\"\n                onConfirm={confirmAndDelete}\n                onCancel={closeDeleteConfirm}\n            />\n        </div>\n    );\n}\n\nexport default TodoList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}