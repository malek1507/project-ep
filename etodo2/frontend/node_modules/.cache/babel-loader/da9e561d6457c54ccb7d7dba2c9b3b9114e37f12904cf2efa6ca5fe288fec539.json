{"ast":null,"code":"var _jsxFileName = \"/home/malek/Desktop/Epitech/projet/B-WEB-101-TLS-1-1-etodo-5/frontend/src/components/TodoList.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\n// Note: axios and external styles are replaced by local state simulation and Tailwind CSS.\nimport { Plus, Trash2, Edit, X, AlertTriangle } from 'lucide-react';\n\n// --- Static Data & Utilities ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_OPTIONS = ['not started', 'todo', 'in progress', 'done'];\nlet nextId = 100; // Mock ID counter\n\nconst getOneWeekFromNow = () => {\n  const date = new Date();\n  date.setDate(date.getDate() + 7);\n  const pad = num => num.toString().padStart(2, '0');\n  const year = date.getFullYear();\n  const month = pad(date.getMonth() + 1);\n  const day = pad(date.getDate());\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  // Returns format YYYY-MM-DD HH:MM:SS\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n};\nconst isOverdue = (dueTime, status) => {\n  if (!dueTime || status === 'done') return false;\n  try {\n    const taskDueDate = new Date(dueTime);\n    return taskDueDate < new Date();\n  } catch {\n    return false;\n  }\n};\nconst sortTodos = todos => todos.slice().sort((a, b) => new Date(a.due_time) - new Date(b.due_time));\nconst formatTime = (timestamp, prefix) => {\n  if (!timestamp) return '';\n  try {\n    const date = new Date(timestamp);\n    return `${prefix}: ${date.toLocaleDateString()} ${date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    })}`;\n  } catch {\n    return `${prefix}: Invalid Date`;\n  }\n};\nconst formatDueTimeForInput = dueTime => {\n  if (!dueTime) return '';\n  try {\n    // Due time is YYYY-MM-DD HH:MM:SS, we need YYYY-MM-DDTHH:MM for input\n    const [datePart, timePart] = dueTime.split(' ');\n    if (!datePart || !timePart) return '';\n    return `${datePart}T${timePart.substring(0, 5)}`;\n  } catch {\n    return '';\n  }\n};\n\n// --- Custom Confirmation Modal (Replaces window.confirm) ---\nconst ConfirmModal = ({\n  show,\n  title,\n  message,\n  onConfirm,\n  onCancel\n}) => {\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full transform transition-all duration-300 scale-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-6 h-6 text-red-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors shadow-sm\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-md\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Todo Card Component (Using React.memo for stability) ---\n_c = ConfirmModal;\nconst TodoCard = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c2 = _s(({\n  todo,\n  openDeleteConfirm,\n  updateStatus,\n  openEditModal\n}) => {\n  _s();\n  const isDone = todo.status === 'done';\n  const isTaskOverdue = isOverdue(todo.due_time, todo.status);\n  const baseClass = \"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 cursor-grab border-l-4\";\n  const statusColor = {\n    'not started': 'border-gray-400',\n    todo: 'border-blue-500',\n    'in progress': 'border-yellow-500',\n    done: 'border-green-500'\n  }[todo.status] || 'border-gray-400';\n  const overdueClass = isTaskOverdue ? 'bg-red-100 border-red-500 ring-2 ring-red-500' : '';\n  const handleDragStart = useCallback(e => {\n    e.dataTransfer.setData('todoId', todo.id.toString());\n  }, [todo.id]);\n  const handleEdit = useCallback(() => {\n    openEditModal(todo);\n  }, [todo, openEditModal]);\n  const handleDelete = useCallback(() => {\n    openDeleteConfirm(todo.id);\n  }, [todo.id, openDeleteConfirm]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${baseClass} ${statusColor} ${overdueClass}`,\n    draggable: true,\n    onDragStart: handleDragStart,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: `text-md font-semibold ${isDone ? 'line-through text-gray-400' : 'text-gray-800'}`,\n        children: todo.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `text-sm mt-1 mb-2 ${isDone ? 'line-through text-gray-400' : 'text-gray-600'}`,\n        children: todo.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), isTaskOverdue && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-xs font-bold text-red-600 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-3 h-3 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), \" OVERDUE\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-xs text-gray-500 block\",\n        children: formatTime(todo.due_time, 'Due')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-2 mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEdit,\n        className: \"p-1 text-blue-500 hover:text-blue-700 rounded-full transition-colors\",\n        \"aria-label\": \"Edit Task\",\n        children: /*#__PURE__*/_jsxDEV(Edit, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        className: \"p-1 text-red-500 hover:text-red-700 rounded-full transition-colors\",\n        \"aria-label\": \"Remove Task\",\n        children: /*#__PURE__*/_jsxDEV(Trash2, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n}, \"Qkc9kYPBJ8ZiVhTLZajYwzJ8BME=\"), (prevProps, nextProps) => {\n  const prev = prevProps.todo;\n  const next = nextProps.todo;\n  // Only re-render if the core data fields change\n  return prev.id === next.id && prev.title === next.title && prev.description === next.description && prev.status === next.status && prev.due_time === next.due_time;\n}), \"Qkc9kYPBJ8ZiVhTLZajYwzJ8BME=\");\n\n// --- Kanban Column Component (Using React.memo) ---\n_c3 = TodoCard;\nconst KanbanColumn = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c4 = _s2(({\n  status,\n  todos,\n  updateStatus,\n  openEditModal,\n  openDeleteConfirm\n}) => {\n  _s2();\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    const todoId = e.dataTransfer.getData('todoId');\n    if (todoId) updateStatus(parseInt(todoId, 10), status);\n  }, [status, updateStatus]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n  }, []);\n  const displayHeader = useMemo(() => {\n    return {\n      'not started': 'Ideas / Backlog',\n      todo: 'Ready to Start',\n      'in progress': 'In Progress',\n      done: 'Completed'\n    }[status] || status;\n  }, [status]);\n  const columnStyle = {\n    'not started': 'bg-gray-100 border-t-4 border-gray-400',\n    todo: 'bg-blue-50 border-t-4 border-blue-500',\n    'in progress': 'bg-yellow-50 border-t-4 border-yellow-500',\n    done: 'bg-green-50 border-t-4 border-green-500'\n  }[status] || 'bg-gray-100';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex flex-col flex-shrink-0 w-full md:w-1/4 p-3 rounded-xl shadow-lg ${columnStyle}`,\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-bold text-gray-700 mb-4\",\n      children: [displayHeader, \" (\", todos.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow space-y-3 overflow-y-auto min-h-20 max-h-screen\",\n      children: todos.map(todo => /*#__PURE__*/_jsxDEV(TodoCard, {\n        todo: todo,\n        updateStatus: updateStatus,\n        openDeleteConfirm: openDeleteConfirm,\n        openEditModal: openEditModal\n      }, todo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n}, \"ZJsscddvj1oVJUotlZjvhMPIZ9U=\")), \"ZJsscddvj1oVJUotlZjvhMPIZ9U=\");\n\n// --- Edit Todo Modal Component (Focus Loss FIX applied here) ---\n_c5 = KanbanColumn;\nconst EditTodoModal = /*#__PURE__*/React.memo(_c6 = ({\n  editingTodo,\n  editFormData,\n  modalError,\n  closeEditModal,\n  editTodo,\n  handleEditChange\n}) => {\n  if (!editingTodo) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 z-40 flex items-center justify-center p-4\",\n    onClick: closeEditModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-2xl p-6 max-w-lg w-full transform transition-all duration-300\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4 border-b pb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800\",\n          children: [\"Edit Task: \", editingTodo.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeEditModal,\n          className: \"text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: editTodo,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700 mb-1\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: editFormData.title || '',\n            onChange: handleEditChange,\n            required: true,\n            className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700 mb-1\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: editFormData.description || '',\n            onChange: handleEditChange,\n            rows: \"3\",\n            className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\",\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-1\",\n              children: \"Due Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              name: \"dueDate\",\n              value: editFormData.dueDate || '',\n              onChange: handleEditChange,\n              className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white\",\n              autoComplete: \"off\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700 mb-1\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"status\",\n              value: editFormData.status || 'not started',\n              onChange: handleEditChange,\n              className: \"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white\",\n              children: STATUS_OPTIONS.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: status,\n                children: status.charAt(0).toUpperCase() + status.slice(1)\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this), modalError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p-2 bg-red-100 text-red-700 rounded-lg text-sm flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this), modalError]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3 pt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: closeEditModal,\n            className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors shadow-sm\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-md\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 9\n  }, this);\n}, (prevProps, nextProps) => {\n  var _prevProps$editingTod, _nextProps$editingTod;\n  // 1. Check if the target task changed\n  if (((_prevProps$editingTod = prevProps.editingTodo) === null || _prevProps$editingTod === void 0 ? void 0 : _prevProps$editingTod.id) !== ((_nextProps$editingTod = nextProps.editingTodo) === null || _nextProps$editingTod === void 0 ? void 0 : _nextProps$editingTod.id)) return false;\n\n  // 2. Check form data fields individually (CRITICAL FIX: prevents re-render on every keystroke)\n  const pf = prevProps.editFormData;\n  const nf = nextProps.editFormData;\n  if (pf.title !== nf.title || pf.description !== nf.description || pf.dueDate !== nf.dueDate || pf.status !== nf.status) {\n    return false; // Re-render ONLY if the actual data changed\n  }\n\n  // 3. Check error state\n  if (prevProps.modalError !== nextProps.modalError) return false;\n\n  // If all props match, skip rendering (this keeps the cursor stable)\n  return true;\n});\n\n// --- Main Todo List Component ---\n_c7 = EditTodoModal;\nfunction TodoList({\n  userId = 'mock-user-id'\n}) {\n  _s3();\n  // Initial mock data\n  const initialTodos = useMemo(() => sortTodos([{\n    id: 1,\n    title: 'Fix Cursor Jump Bug',\n    description: 'Apply custom React.memo comparison to EditTodoModal.',\n    status: 'in progress',\n    due_time: '2025-11-20 10:00:00',\n    created_at: '2025-11-18 09:00:00'\n  }, {\n    id: 2,\n    title: 'Implement Confirmation Modal',\n    description: 'Replace window.confirm with a custom UI component.',\n    status: 'done',\n    due_time: '2025-11-15 15:30:00',\n    created_at: '2025-11-17 12:00:00'\n  }, {\n    id: 3,\n    title: 'Create Kanban UI',\n    description: 'Design responsive layout using Tailwind CSS.',\n    status: 'done',\n    due_time: '2025-11-10 08:00:00',\n    created_at: '2025-11-09 14:00:00'\n  }, {\n    id: 4,\n    title: 'Overdue Task Demo',\n    description: 'This task is intentionally overdue to show the warning.',\n    status: 'todo',\n    due_time: '2025-10-01 08:00:00',\n    created_at: '2025-09-29 10:00:00'\n  }, {\n    id: 5,\n    title: 'Brainstorm New Features',\n    description: 'Start thinking about dark mode and filtering by user.',\n    status: 'not started',\n    due_time: getOneWeekFromNow(),\n    created_at: new Date().toISOString()\n  }]), []);\n  const [todos, setTodos] = useState(initialTodos);\n  const [newTodo, setNewTodo] = useState({\n    title: '',\n    description: '',\n    dueDate: ''\n  });\n  const [editingTodo, setEditingTodo] = useState(null);\n  const [editFormData, setEditFormData] = useState({\n    title: '',\n    description: '',\n    dueDate: '',\n    status: 'not started'\n  });\n  const [globalAppError, setGlobalAppError] = useState('');\n  const [modalError, setModalError] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [confirmingDeleteId, setConfirmingDeleteId] = useState(null);\n\n  // --- Modal/Form Handlers ---\n\n  const openEditModal = useCallback(todo => {\n    setEditingTodo(todo);\n    setEditFormData({\n      title: todo.title || '',\n      description: todo.description || '',\n      dueDate: formatDueTimeForInput(todo.due_time),\n      status: todo.status || 'not started'\n    });\n    setModalError('');\n  }, []);\n  const closeEditModal = useCallback(() => {\n    setEditingTodo(null);\n    setEditFormData({\n      title: '',\n      description: '',\n      dueDate: '',\n      status: 'not started'\n    });\n    setModalError('');\n  }, []);\n  const handleNewTodoChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewTodo(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n\n  // Combined handler for all edit form fields (Critical for the fix)\n  const handleEditChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n  const handleSearchChange = useCallback(e => setSearchQuery(e.target.value), []);\n\n  // --- CRUD Operations (Mocked) ---\n\n  const getDueTime = inputDate => {\n    if (!inputDate) return null;\n    return inputDate.replace('T', ' ') + ':00';\n  };\n  const addTodo = useCallback(async e => {\n    e.preventDefault();\n    setGlobalAppError('');\n    if (!newTodo.title) return setGlobalAppError(\"Title cannot be empty.\");\n    const effectiveDueTime = getDueTime(newTodo.dueDate) || getOneWeekFromNow();\n    const newEntry = {\n      id: nextId++,\n      title: newTodo.title,\n      description: newTodo.description,\n      status: 'not started',\n      due_time: effectiveDueTime,\n      created_at: new Date().toISOString()\n    };\n    setTodos(prev => sortTodos([...prev, newEntry]));\n    setNewTodo({\n      title: '',\n      description: '',\n      dueDate: ''\n    });\n  }, [newTodo]);\n  const editTodo = useCallback(async e => {\n    e.preventDefault();\n    if (!editingTodo) return;\n    setModalError('');\n    if (!editFormData.title) return setModalError(\"Title cannot be empty.\");\n    const effectiveDueTime = getDueTime(editFormData.dueDate);\n    const updatedTodo = {\n      ...editingTodo,\n      title: editFormData.title,\n      description: editFormData.description,\n      status: editFormData.status,\n      due_time: effectiveDueTime\n    };\n    setTodos(prev => sortTodos(prev.map(todo => todo.id === updatedTodo.id ? updatedTodo : todo)));\n    closeEditModal();\n  }, [editingTodo, editFormData, closeEditModal]);\n  const updateStatus = useCallback(async (id, newStatus) => {\n    setTodos(prev => prev.map(todo => todo.id === id ? {\n      ...todo,\n      status: newStatus\n    } : todo));\n  }, []);\n\n  // --- Delete Confirmation Logic ---\n  const openDeleteConfirm = useCallback(id => {\n    setConfirmingDeleteId(id);\n  }, []);\n  const closeDeleteConfirm = useCallback(() => {\n    setConfirmingDeleteId(null);\n  }, []);\n  const confirmAndDelete = useCallback(() => {\n    const id = confirmingDeleteId;\n    if (!id) return;\n    setTodos(prev => prev.filter(todo => todo.id !== id));\n    closeDeleteConfirm();\n  }, [confirmingDeleteId, closeDeleteConfirm]);\n\n  // --- Filtering and Grouping ---\n  const filteredTodos = useMemo(() => {\n    return todos.filter(todo => {\n      var _todo$title, _todo$description;\n      return ((_todo$title = todo.title) === null || _todo$title === void 0 ? void 0 : _todo$title.toLowerCase().includes(searchQuery.toLowerCase())) || ((_todo$description = todo.description) === null || _todo$description === void 0 ? void 0 : _todo$description.toLowerCase().includes(searchQuery.toLowerCase()));\n    });\n  }, [todos, searchQuery]);\n  const groupedTodos = useMemo(() => {\n    return filteredTodos.reduce((acc, todo) => {\n      const status = todo.status || 'not started';\n      if (!acc[status]) acc[status] = [];\n      acc[status].push(todo);\n      return acc;\n    }, {});\n  }, [filteredTodos]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\",\n      children: \"Kanban Task Board (Fixed)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 mb-4\",\n      children: \"The cursor jump bug when editing tasks is now fixed!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 13\n    }, this), globalAppError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm font-medium flex items-center shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-5 h-5 mr-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 21\n      }, this), globalAppError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row lg:space-x-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search tasks by title or description...\",\n        className: \"flex-shrink-0 lg:w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-shadow mb-4 lg:mb-0 shadow-sm\",\n        value: searchQuery,\n        onChange: handleSearchChange,\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: addTodo,\n        className: \"flex flex-col lg:flex-row lg:space-x-3 lg:w-2/3 space-y-3 lg:space-y-0 p-4 bg-white rounded-xl shadow-md border\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          placeholder: \"Title (Required)\",\n          value: newTodo.title,\n          onChange: handleNewTodoChange,\n          required: true,\n          className: \"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"Description (Optional)\",\n          value: newTodo.description,\n          onChange: handleNewTodoChange,\n          className: \"p-2 border border-gray-300 rounded-lg w-full lg:w-1/3 focus:border-blue-500\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          name: \"dueDate\",\n          title: \"Due Date and Time\",\n          value: newTodo.dueDate,\n          onChange: handleNewTodoChange,\n          className: \"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500 bg-white\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"flex items-center justify-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors w-full lg:w-1/6 shadow-lg hover:shadow-xl\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 25\n          }, this), \" Add Task\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6 overflow-x-auto pb-4\",\n      children: STATUS_OPTIONS.map(status => /*#__PURE__*/_jsxDEV(KanbanColumn, {\n        status: status,\n        todos: groupedTodos[status] || [],\n        updateStatus: updateStatus,\n        openDeleteConfirm: openDeleteConfirm,\n        openEditModal: openEditModal\n      }, status, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditTodoModal, {\n      editingTodo: editingTodo,\n      editFormData: editFormData,\n      modalError: modalError,\n      closeEditModal: closeEditModal,\n      editTodo: editTodo,\n      handleEditChange: handleEditChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n      show: !!confirmingDeleteId,\n      title: \"Confirm Deletion\",\n      message: \"Are you sure you want to delete this task? This action cannot be undone.\",\n      onConfirm: confirmAndDelete,\n      onCancel: closeDeleteConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 468,\n    columnNumber: 9\n  }, this);\n}\n_s3(TodoList, \"tWwOFHPimP7zqx/r/QXe8z0y+QY=\");\n_c8 = TodoList;\nexport default TodoList;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"ConfirmModal\");\n$RefreshReg$(_c2, \"TodoCard$React.memo\");\n$RefreshReg$(_c3, \"TodoCard\");\n$RefreshReg$(_c4, \"KanbanColumn$React.memo\");\n$RefreshReg$(_c5, \"KanbanColumn\");\n$RefreshReg$(_c6, \"EditTodoModal$React.memo\");\n$RefreshReg$(_c7, \"EditTodoModal\");\n$RefreshReg$(_c8, \"TodoList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","Plus","Trash2","Edit","X","AlertTriangle","jsxDEV","_jsxDEV","STATUS_OPTIONS","nextId","getOneWeekFromNow","date","Date","setDate","getDate","pad","num","toString","padStart","year","getFullYear","month","getMonth","day","hours","getHours","minutes","getMinutes","seconds","getSeconds","isOverdue","dueTime","status","taskDueDate","sortTodos","todos","slice","sort","a","b","due_time","formatTime","timestamp","prefix","toLocaleDateString","toLocaleTimeString","hour","minute","formatDueTimeForInput","datePart","timePart","split","substring","ConfirmModal","show","title","message","onConfirm","onCancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","TodoCard","_s","memo","_c2","todo","openDeleteConfirm","updateStatus","openEditModal","isDone","isTaskOverdue","baseClass","statusColor","done","overdueClass","handleDragStart","e","dataTransfer","setData","id","handleEdit","handleDelete","draggable","onDragStart","description","prevProps","nextProps","prev","next","_c3","KanbanColumn","_s2","_c4","handleDrop","preventDefault","todoId","getData","parseInt","handleDragOver","displayHeader","columnStyle","onDrop","onDragOver","length","map","_c5","EditTodoModal","_c6","editingTodo","editFormData","modalError","closeEditModal","editTodo","handleEditChange","stopPropagation","onSubmit","type","name","value","onChange","required","autoComplete","rows","dueDate","charAt","toUpperCase","_prevProps$editingTod","_nextProps$editingTod","pf","nf","_c7","TodoList","userId","_s3","initialTodos","created_at","toISOString","setTodos","newTodo","setNewTodo","setEditingTodo","setEditFormData","globalAppError","setGlobalAppError","setModalError","searchQuery","setSearchQuery","confirmingDeleteId","setConfirmingDeleteId","handleNewTodoChange","target","handleSearchChange","getDueTime","inputDate","replace","addTodo","effectiveDueTime","newEntry","updatedTodo","newStatus","closeDeleteConfirm","confirmAndDelete","filter","filteredTodos","_todo$title","_todo$description","toLowerCase","includes","groupedTodos","reduce","acc","push","placeholder","_c8","$RefreshReg$"],"sources":["/home/malek/Desktop/Epitech/projet/B-WEB-101-TLS-1-1-etodo-5/frontend/src/components/TodoList.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\n// Note: axios and external styles are replaced by local state simulation and Tailwind CSS.\nimport { Plus, Trash2, Edit, X, AlertTriangle } from 'lucide-react';\n\n// --- Static Data & Utilities ---\nconst STATUS_OPTIONS = ['not started', 'todo', 'in progress', 'done'];\nlet nextId = 100; // Mock ID counter\n\nconst getOneWeekFromNow = () => {\n    const date = new Date();\n    date.setDate(date.getDate() + 7);\n    const pad = (num) => num.toString().padStart(2, '0');\n    const year = date.getFullYear();\n    const month = pad(date.getMonth() + 1);\n    const day = pad(date.getDate());\n    const hours = pad(date.getHours());\n    const minutes = pad(date.getMinutes());\n    const seconds = pad(date.getSeconds());\n    // Returns format YYYY-MM-DD HH:MM:SS\n    return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n};\n\nconst isOverdue = (dueTime, status) => {\n    if (!dueTime || status === 'done') return false;\n    try {\n        const taskDueDate = new Date(dueTime);\n        return taskDueDate < new Date();\n    } catch {\n        return false;\n    }\n};\n\nconst sortTodos = (todos) => todos.slice().sort((a, b) => new Date(a.due_time) - new Date(b.due_time));\n\nconst formatTime = (timestamp, prefix) => {\n    if (!timestamp) return '';\n    try {\n        const date = new Date(timestamp);\n        return `${prefix}: ${date.toLocaleDateString()} ${date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`;\n    } catch {\n        return `${prefix}: Invalid Date`;\n    }\n};\n\nconst formatDueTimeForInput = (dueTime) => {\n    if (!dueTime) return '';\n    try {\n        // Due time is YYYY-MM-DD HH:MM:SS, we need YYYY-MM-DDTHH:MM for input\n        const [datePart, timePart] = dueTime.split(' ');\n        if (!datePart || !timePart) return '';\n        return `${datePart}T${timePart.substring(0, 5)}`;\n    } catch {\n        return '';\n    }\n};\n\n// --- Custom Confirmation Modal (Replaces window.confirm) ---\nconst ConfirmModal = ({ show, title, message, onConfirm, onCancel }) => {\n    if (!show) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-xl shadow-2xl p-6 max-w-sm w-full transform transition-all duration-300 scale-100\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                    <AlertTriangle className=\"w-6 h-6 text-red-500\" />\n                    <h3 className=\"text-lg font-semibold text-gray-800\">{title}</h3>\n                </div>\n                <p className=\"text-gray-600 mb-6\">{message}</p>\n                <div className=\"flex justify-end space-x-3\">\n                    <button\n                        onClick={onCancel}\n                        className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors shadow-sm\"\n                    >\n                        Cancel\n                    </button>\n                    <button\n                        onClick={onConfirm}\n                        className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-md\"\n                    >\n                        Delete\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\n// --- Todo Card Component (Using React.memo for stability) ---\nconst TodoCard = React.memo(({ todo, openDeleteConfirm, updateStatus, openEditModal }) => {\n    const isDone = todo.status === 'done';\n    const isTaskOverdue = isOverdue(todo.due_time, todo.status);\n\n    const baseClass = \"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 cursor-grab border-l-4\";\n    const statusColor = {\n        'not started': 'border-gray-400',\n        todo: 'border-blue-500',\n        'in progress': 'border-yellow-500',\n        done: 'border-green-500',\n    }[todo.status] || 'border-gray-400';\n\n    const overdueClass = isTaskOverdue ? 'bg-red-100 border-red-500 ring-2 ring-red-500' : '';\n\n    const handleDragStart = useCallback((e) => {\n        e.dataTransfer.setData('todoId', todo.id.toString());\n    }, [todo.id]);\n\n    const handleEdit = useCallback(() => {\n        openEditModal(todo);\n    }, [todo, openEditModal]);\n\n    const handleDelete = useCallback(() => {\n        openDeleteConfirm(todo.id);\n    }, [todo.id, openDeleteConfirm]);\n\n    return (\n        <div\n            className={`${baseClass} ${statusColor} ${overdueClass}`}\n            draggable\n            onDragStart={handleDragStart}\n        >\n            <div className=\"card-content\">\n                <h3 className={`text-md font-semibold ${isDone ? 'line-through text-gray-400' : 'text-gray-800'}`}>\n                    {todo.title}\n                </h3>\n                <p className={`text-sm mt-1 mb-2 ${isDone ? 'line-through text-gray-400' : 'text-gray-600'}`}>\n                    {todo.description}\n                </p>\n                {isTaskOverdue && (\n                    <div className=\"flex items-center text-xs font-bold text-red-600 mb-2\">\n                        <AlertTriangle className=\"w-3 h-3 mr-1\" /> OVERDUE\n                    </div>\n                )}\n                <small className=\"text-xs text-gray-500 block\">\n                    {formatTime(todo.due_time, 'Due')}\n                </small>\n            </div>\n            <div className=\"flex justify-end space-x-2 mt-3\">\n                <button\n                    onClick={handleEdit}\n                    className=\"p-1 text-blue-500 hover:text-blue-700 rounded-full transition-colors\"\n                    aria-label=\"Edit Task\"\n                >\n                    <Edit className=\"w-4 h-4\" />\n                </button>\n                <button\n                    onClick={handleDelete}\n                    className=\"p-1 text-red-500 hover:text-red-700 rounded-full transition-colors\"\n                    aria-label=\"Remove Task\"\n                >\n                    <Trash2 className=\"w-4 h-4\" />\n                </button>\n            </div>\n        </div>\n    );\n}, (prevProps, nextProps) => {\n    const prev = prevProps.todo;\n    const next = nextProps.todo;\n    // Only re-render if the core data fields change\n    return prev.id === next.id &&\n        prev.title === next.title &&\n        prev.description === next.description &&\n        prev.status === next.status &&\n        prev.due_time === next.due_time;\n});\n\n// --- Kanban Column Component (Using React.memo) ---\nconst KanbanColumn = React.memo(({ status, todos, updateStatus, openEditModal, openDeleteConfirm }) => {\n    const handleDrop = useCallback((e) => {\n        e.preventDefault();\n        const todoId = e.dataTransfer.getData('todoId');\n        if (todoId) updateStatus(parseInt(todoId, 10), status);\n    }, [status, updateStatus]);\n\n    const handleDragOver = useCallback((e) => {\n        e.preventDefault();\n    }, []);\n\n    const displayHeader = useMemo(() => {\n        return {\n            'not started': 'Ideas / Backlog',\n            todo: 'Ready to Start',\n            'in progress': 'In Progress',\n            done: 'Completed'\n        }[status] || status;\n    }, [status]);\n\n    const columnStyle = {\n        'not started': 'bg-gray-100 border-t-4 border-gray-400',\n        todo: 'bg-blue-50 border-t-4 border-blue-500',\n        'in progress': 'bg-yellow-50 border-t-4 border-yellow-500',\n        done: 'bg-green-50 border-t-4 border-green-500',\n    }[status] || 'bg-gray-100';\n\n    return (\n        <div\n            className={`flex flex-col flex-shrink-0 w-full md:w-1/4 p-3 rounded-xl shadow-lg ${columnStyle}`}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n        >\n            <h2 className=\"text-lg font-bold text-gray-700 mb-4\">{displayHeader} ({todos.length})</h2>\n            <div className=\"flex-grow space-y-3 overflow-y-auto min-h-20 max-h-screen\">\n                {todos.map(todo => (\n                    <TodoCard\n                        key={todo.id}\n                        todo={todo}\n                        updateStatus={updateStatus}\n                        openDeleteConfirm={openDeleteConfirm}\n                        openEditModal={openEditModal}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n});\n\n// --- Edit Todo Modal Component (Focus Loss FIX applied here) ---\nconst EditTodoModal = React.memo(({\n    editingTodo,\n    editFormData,\n    modalError,\n    closeEditModal,\n    editTodo,\n    handleEditChange\n}) => {\n    if (!editingTodo) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 z-40 flex items-center justify-center p-4\" onClick={closeEditModal}>\n            <div className=\"bg-white rounded-2xl shadow-2xl p-6 max-w-lg w-full transform transition-all duration-300\" onClick={e => e.stopPropagation()}>\n                <div className=\"flex justify-between items-center mb-4 border-b pb-2\">\n                    <h2 className=\"text-xl font-bold text-gray-800\">Edit Task: {editingTodo.title}</h2>\n                    <button onClick={closeEditModal} className=\"text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors\">\n                        <X className=\"w-5 h-5\" />\n                    </button>\n                </div>\n\n                <form onSubmit={editTodo} className=\"space-y-4\">\n                    <div className=\"flex flex-col\">\n                        <label className=\"text-sm font-medium text-gray-700 mb-1\">Title</label>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            value={editFormData.title || ''}\n                            onChange={handleEditChange}\n                            required\n                            className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                            autoComplete=\"off\"\n                        />\n                    </div>\n                    <div className=\"flex flex-col\">\n                        <label className=\"text-sm font-medium text-gray-700 mb-1\">Description</label>\n                        <textarea\n                            name=\"description\"\n                            value={editFormData.description || ''}\n                            onChange={handleEditChange}\n                            rows=\"3\"\n                            className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors\"\n                            autoComplete=\"off\"\n                        />\n                    </div>\n                    <div className=\"flex space-x-4\">\n                        <div className=\"flex flex-col w-1/2\">\n                            <label className=\"text-sm font-medium text-gray-700 mb-1\">Due Date</label>\n                            <input\n                                type=\"datetime-local\"\n                                name=\"dueDate\"\n                                value={editFormData.dueDate || ''}\n                                onChange={handleEditChange}\n                                className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white\"\n                                autoComplete=\"off\"\n                            />\n                        </div>\n                        <div className=\"flex flex-col w-1/2\">\n                            <label className=\"text-sm font-medium text-gray-700 mb-1\">Status</label>\n                            <select\n                                name=\"status\"\n                                value={editFormData.status || 'not started'}\n                                onChange={handleEditChange}\n                                className=\"p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white\"\n                            >\n                                {STATUS_OPTIONS.map(status => (\n                                    <option key={status} value={status}>\n                                        {status.charAt(0).toUpperCase() + status.slice(1)}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                    </div>\n\n                    {modalError && (\n                        <p className=\"p-2 bg-red-100 text-red-700 rounded-lg text-sm flex items-center\">\n                            <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                            {modalError}\n                        </p>\n                    )}\n\n                    <div className=\"flex justify-end space-x-3 pt-2\">\n                        <button type=\"button\" onClick={closeEditModal} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors shadow-sm\">\n                            Cancel\n                        </button>\n                        <button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-md\">\n                            Save Changes\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}, (prevProps, nextProps) => {\n    // 1. Check if the target task changed\n    if (prevProps.editingTodo?.id !== nextProps.editingTodo?.id) return false;\n\n    // 2. Check form data fields individually (CRITICAL FIX: prevents re-render on every keystroke)\n    const pf = prevProps.editFormData;\n    const nf = nextProps.editFormData;\n    if (pf.title !== nf.title ||\n        pf.description !== nf.description ||\n        pf.dueDate !== nf.dueDate ||\n        pf.status !== nf.status) {\n        return false; // Re-render ONLY if the actual data changed\n    }\n\n    // 3. Check error state\n    if (prevProps.modalError !== nextProps.modalError) return false;\n\n    // If all props match, skip rendering (this keeps the cursor stable)\n    return true;\n});\n\n// --- Main Todo List Component ---\nfunction TodoList({ userId = 'mock-user-id' }) {\n    // Initial mock data\n    const initialTodos = useMemo(() => sortTodos([\n        { id: 1, title: 'Fix Cursor Jump Bug', description: 'Apply custom React.memo comparison to EditTodoModal.', status: 'in progress', due_time: '2025-11-20 10:00:00', created_at: '2025-11-18 09:00:00' },\n        { id: 2, title: 'Implement Confirmation Modal', description: 'Replace window.confirm with a custom UI component.', status: 'done', due_time: '2025-11-15 15:30:00', created_at: '2025-11-17 12:00:00' },\n        { id: 3, title: 'Create Kanban UI', description: 'Design responsive layout using Tailwind CSS.', status: 'done', due_time: '2025-11-10 08:00:00', created_at: '2025-11-09 14:00:00' },\n        { id: 4, title: 'Overdue Task Demo', description: 'This task is intentionally overdue to show the warning.', status: 'todo', due_time: '2025-10-01 08:00:00', created_at: '2025-09-29 10:00:00' },\n        { id: 5, title: 'Brainstorm New Features', description: 'Start thinking about dark mode and filtering by user.', status: 'not started', due_time: getOneWeekFromNow(), created_at: new Date().toISOString() },\n    ]), []);\n\n    const [todos, setTodos] = useState(initialTodos);\n    const [newTodo, setNewTodo] = useState({ title: '', description: '', dueDate: '' });\n    const [editingTodo, setEditingTodo] = useState(null);\n    const [editFormData, setEditFormData] = useState({ title: '', description: '', dueDate: '', status: 'not started' });\n    const [globalAppError, setGlobalAppError] = useState('');\n    const [modalError, setModalError] = useState('');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [confirmingDeleteId, setConfirmingDeleteId] = useState(null);\n\n    // --- Modal/Form Handlers ---\n\n    const openEditModal = useCallback((todo) => {\n        setEditingTodo(todo);\n        setEditFormData({\n            title: todo.title || '',\n            description: todo.description || '',\n            dueDate: formatDueTimeForInput(todo.due_time),\n            status: todo.status || 'not started'\n        });\n        setModalError('');\n    }, []);\n\n    const closeEditModal = useCallback(() => {\n        setEditingTodo(null);\n        setEditFormData({ title: '', description: '', dueDate: '', status: 'not started' });\n        setModalError('');\n    }, []);\n\n    const handleNewTodoChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setNewTodo(prev => ({ ...prev, [name]: value }));\n    }, []);\n\n    // Combined handler for all edit form fields (Critical for the fix)\n    const handleEditChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setEditFormData(prev => ({ ...prev, [name]: value }));\n    }, []);\n\n    const handleSearchChange = useCallback((e) => setSearchQuery(e.target.value), []);\n\n    // --- CRUD Operations (Mocked) ---\n\n    const getDueTime = (inputDate) => {\n        if (!inputDate) return null;\n        return inputDate.replace('T', ' ') + ':00';\n    };\n\n    const addTodo = useCallback(async (e) => {\n        e.preventDefault();\n        setGlobalAppError('');\n        if (!newTodo.title) return setGlobalAppError(\"Title cannot be empty.\");\n\n        const effectiveDueTime = getDueTime(newTodo.dueDate) || getOneWeekFromNow();\n        const newEntry = {\n            id: nextId++,\n            title: newTodo.title,\n            description: newTodo.description,\n            status: 'not started',\n            due_time: effectiveDueTime,\n            created_at: new Date().toISOString(),\n        };\n\n        setTodos(prev => sortTodos([...prev, newEntry]));\n        setNewTodo({ title: '', description: '', dueDate: '' });\n    }, [newTodo]);\n\n    const editTodo = useCallback(async (e) => {\n        e.preventDefault();\n        if (!editingTodo) return;\n        setModalError('');\n        if (!editFormData.title) return setModalError(\"Title cannot be empty.\");\n\n        const effectiveDueTime = getDueTime(editFormData.dueDate);\n\n        const updatedTodo = {\n            ...editingTodo,\n            title: editFormData.title,\n            description: editFormData.description,\n            status: editFormData.status,\n            due_time: effectiveDueTime\n        };\n\n        setTodos(prev => sortTodos(prev.map(todo => (todo.id === updatedTodo.id ? updatedTodo : todo))));\n        closeEditModal();\n    }, [editingTodo, editFormData, closeEditModal]);\n\n    const updateStatus = useCallback(async (id, newStatus) => {\n        setTodos(prev => prev.map(todo => (todo.id === id ? { ...todo, status: newStatus } : todo)));\n    }, []);\n\n    // --- Delete Confirmation Logic ---\n    const openDeleteConfirm = useCallback((id) => {\n        setConfirmingDeleteId(id);\n    }, []);\n\n    const closeDeleteConfirm = useCallback(() => {\n        setConfirmingDeleteId(null);\n    }, []);\n\n    const confirmAndDelete = useCallback(() => {\n        const id = confirmingDeleteId;\n        if (!id) return;\n\n        setTodos(prev => prev.filter(todo => todo.id !== id));\n        closeDeleteConfirm();\n    }, [confirmingDeleteId, closeDeleteConfirm]);\n\n    // --- Filtering and Grouping ---\n    const filteredTodos = useMemo(() => {\n        return todos.filter(todo =>\n            todo.title?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n            todo.description?.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n    }, [todos, searchQuery]);\n\n    const groupedTodos = useMemo(() => {\n        return filteredTodos.reduce((acc, todo) => {\n            const status = todo.status || 'not started';\n            if (!acc[status]) acc[status] = [];\n            acc[status].push(todo);\n            return acc;\n        }, {});\n    }, [filteredTodos]);\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 p-6 font-sans\">\n            <h1 className=\"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\">\n                Kanban Task Board (Fixed)\n            </h1>\n            <p className=\"text-sm text-gray-500 mb-4\">\n                The cursor jump bug when editing tasks is now fixed!\n            </p>\n\n            {globalAppError && (\n                <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm font-medium flex items-center shadow-md\">\n                    <AlertTriangle className=\"w-5 h-5 mr-3\" />\n                    {globalAppError}\n                </div>\n            )}\n\n            {/* Controls and Form */}\n            <div className=\"flex flex-col lg:flex-row lg:space-x-6 mb-6\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search tasks by title or description...\"\n                    className=\"flex-shrink-0 lg:w-1/3 p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-shadow mb-4 lg:mb-0 shadow-sm\"\n                    value={searchQuery}\n                    onChange={handleSearchChange}\n                    autoComplete=\"off\"\n                />\n\n                <form onSubmit={addTodo} className=\"flex flex-col lg:flex-row lg:space-x-3 lg:w-2/3 space-y-3 lg:space-y-0 p-4 bg-white rounded-xl shadow-md border\">\n                    <input\n                        type=\"text\"\n                        name=\"title\"\n                        placeholder=\"Title (Required)\"\n                        value={newTodo.title}\n                        onChange={handleNewTodoChange}\n                        required\n                        className=\"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500\"\n                        autoComplete=\"off\"\n                    />\n                    <input\n                        type=\"text\"\n                        name=\"description\"\n                        placeholder=\"Description (Optional)\"\n                        value={newTodo.description}\n                        onChange={handleNewTodoChange}\n                        className=\"p-2 border border-gray-300 rounded-lg w-full lg:w-1/3 focus:border-blue-500\"\n                        autoComplete=\"off\"\n                    />\n                    <input\n                        type=\"datetime-local\"\n                        name=\"dueDate\"\n                        title=\"Due Date and Time\"\n                        value={newTodo.dueDate}\n                        onChange={handleNewTodoChange}\n                        className=\"p-2 border border-gray-300 rounded-lg w-full lg:w-1/4 focus:border-blue-500 bg-white\"\n                        autoComplete=\"off\"\n                    />\n                    <button\n                        type=\"submit\"\n                        className=\"flex items-center justify-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors w-full lg:w-1/6 shadow-lg hover:shadow-xl\"\n                    >\n                        <Plus className=\"w-4 h-4 mr-1\" /> Add Task\n                    </button>\n                </form>\n            </div>\n\n            {/* Kanban Board */}\n            <div className=\"flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6 overflow-x-auto pb-4\">\n                {STATUS_OPTIONS.map(status => (\n                    <KanbanColumn\n                        key={status}\n                        status={status}\n                        todos={groupedTodos[status] || []}\n                        updateStatus={updateStatus}\n                        openDeleteConfirm={openDeleteConfirm}\n                        openEditModal={openEditModal}\n                    />\n                ))}\n            </div>\n\n            {/* Edit Modal */}\n            <EditTodoModal\n                editingTodo={editingTodo}\n                editFormData={editFormData}\n                modalError={modalError}\n                closeEditModal={closeEditModal}\n                editTodo={editTodo}\n                handleEditChange={handleEditChange}\n            />\n\n            {/* Delete Confirmation Modal */}\n            <ConfirmModal\n                show={!!confirmingDeleteId}\n                title=\"Confirm Deletion\"\n                message=\"Are you sure you want to delete this task? This action cannot be undone.\"\n                onConfirm={confirmAndDelete}\n                onCancel={closeDeleteConfirm}\n            />\n        </div>\n    );\n}\n\nexport default TodoList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}