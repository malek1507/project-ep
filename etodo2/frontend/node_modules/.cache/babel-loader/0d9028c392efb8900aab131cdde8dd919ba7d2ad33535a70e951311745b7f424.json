{"ast":null,"code":"var _jsxFileName = \"/home/malek/Desktop/Epitech/projet/B-WEB-101-TLS-1-1-etodo-5/frontend/src/components/Dashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n// import { useTheme } from '../context/ThemeContext'; // Removed problematic import\n// import TodoList from './TodoList'; // Removed problematic import\n// import '../styles/Dashboard.css'; // Removed problematic import\n\n// --- Mocking necessary external dependencies for execution ---\n\n// Mock TodoList for demonstration purposes\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoList = ({\n  userId\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      borderTop: '1px solid #ccc'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Task Board (Simulated)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Task list for user ID: \", userId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"*Note: The full TodoList component is not defined here. Please ensure you have included it in your environment for full functionality.*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this);\n};\n\n// Mock useTheme hook and context\n_c = TodoList;\nconst useTheme = () => {\n  _s();\n  const [theme, setTheme] = useState('light');\n  const toggleTheme = () => {\n    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  };\n  return {\n    theme,\n    toggleTheme\n  };\n};\n\n// --- End of Mock Dependencies ---\n\n// Logo URL provided by the user\n_s(useTheme, \"c/tiXTWXTQispzpG//dV5FX41vQ=\");\nconst LOGO_URL = \"uploaded:Gemini_Generated_Image_rm4v21rm4v21rm4v.jpg-52a553b5-d21d-48c3-9b24-12e7ecaebe54\";\nfunction Dashboard() {\n  _s2();\n  const navigate = useNavigate();\n  const {\n    theme,\n    toggleTheme\n  } = useTheme();\n  const [user, setUser] = useState(null);\n\n  // Mocking a successful user fetch for demonstration\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      // Mock user sign-in if no token is found\n      setUser({\n        id: 'mock-user-123',\n        firstname: 'Guest',\n        name: 'User'\n      });\n      return;\n    }\n    const fetchProfile = async () => {\n      try {\n        // Mock axios request success\n        const response = {\n          data: {\n            id: 'actual-user-456',\n            firstname: 'John',\n            name: 'Doe'\n          }\n        };\n        // In a real application, you would use the live axios request:\n        // const response = await axios.get('http://localhost:8080/user/profile', {\n        //     headers: { 'Authorization': `Bearer ${token}` }\n        // });\n\n        setUser(response.data);\n      } catch (error) {\n        console.error('Failed to fetch user profile:', error);\n        // localStorage.removeItem('token');\n        // navigate('/login');\n      }\n    };\n    fetchProfile();\n  }, [navigate]);\n  const displayUserName = user ? `${user.firstname || ''} ${user.name || ''}`.trim() : 'User';\n  const getThemeIcon = () => {\n    if (theme === 'light') return '‚òÄÔ∏è';\n    if (theme === 'dark') return 'üåô';\n    return 'üëì';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `dashboard ${theme}`,\n    style: {\n      minHeight: '100vh',\n      backgroundColor: theme === 'dark' ? '#1f2937' : '#f3f4f6',\n      color: theme === 'dark' ? '#f3f4f6' : '#1f2937'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '1rem 2rem',\n        borderBottom: '1px solid #4b5563',\n        backgroundColor: theme === 'dark' ? '#374151' : '#ffffff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px',\n          fontSize: '1.5rem',\n          fontWeight: 'bold'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: LOGO_URL,\n          alt: \"e-todo logo\",\n          style: {\n            height: '30px',\n            width: 'auto'\n          } // Adjust size here\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), \"Welcome, \", displayUserName, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleTheme,\n          style: {\n            padding: '0.5rem 1rem',\n            borderRadius: '0.5rem',\n            border: 'none',\n            cursor: 'pointer',\n            backgroundColor: '#60a5fa',\n            color: 'white'\n          },\n          children: getThemeIcon()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.removeItem('token');\n            // navigate('/login');\n            console.log('Logged out and redirecting...');\n            setUser(null);\n          },\n          style: {\n            padding: '0.5rem 1rem',\n            borderRadius: '0.5rem',\n            border: 'none',\n            cursor: 'pointer',\n            backgroundColor: '#ef4444',\n            color: 'white'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), user ?\n    /*#__PURE__*/\n    // TodoList is now using the mock definition above\n    _jsxDEV(TodoList, {\n      userId: user.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        padding: '2rem'\n      },\n      children: \"Loading your tasks...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n}\n_s2(Dashboard, \"kPwzRVnKQyjFATW+Pze6Yu02FhM=\", false, function () {\n  return [useNavigate, useTheme];\n});\n_c2 = Dashboard;\nexport default Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoList\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","TodoList","userId","style","padding","borderTop","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTheme","_s","theme","setTheme","toggleTheme","prevTheme","LOGO_URL","Dashboard","_s2","navigate","user","setUser","token","localStorage","getItem","id","firstname","name","fetchProfile","response","data","error","console","displayUserName","trim","getThemeIcon","className","minHeight","backgroundColor","color","display","justifyContent","alignItems","borderBottom","gap","fontSize","fontWeight","src","alt","height","width","onClick","borderRadius","border","cursor","removeItem","log","textAlign","_c2","$RefreshReg$"],"sources":["/home/malek/Desktop/Epitech/projet/B-WEB-101-TLS-1-1-etodo-5/frontend/src/components/Dashboard.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n// import { useTheme } from '../context/ThemeContext'; // Removed problematic import\n// import TodoList from './TodoList'; // Removed problematic import\n// import '../styles/Dashboard.css'; // Removed problematic import\n\n// --- Mocking necessary external dependencies for execution ---\n\n// Mock TodoList for demonstration purposes\nconst TodoList = ({ userId }) => {\n    return (\n        <div style={{ padding: '20px', borderTop: '1px solid #ccc' }}>\n            <h2>Task Board (Simulated)</h2>\n            <p>Task list for user ID: {userId}</p>\n            <p>\n                *Note: The full TodoList component is not defined here.\n                Please ensure you have included it in your environment\n                for full functionality.*\n            </p>\n        </div>\n    );\n};\n\n// Mock useTheme hook and context\nconst useTheme = () => {\n    const [theme, setTheme] = useState('light');\n    const toggleTheme = () => {\n        setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n    };\n    return { theme, toggleTheme };\n};\n\n// --- End of Mock Dependencies ---\n\n// Logo URL provided by the user\nconst LOGO_URL = \"uploaded:Gemini_Generated_Image_rm4v21rm4v21rm4v.jpg-52a553b5-d21d-48c3-9b24-12e7ecaebe54\";\n\nfunction Dashboard() {\n    const navigate = useNavigate();\n    const { theme, toggleTheme } = useTheme();\n    const [user, setUser] = useState(null);\n\n    // Mocking a successful user fetch for demonstration\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            // Mock user sign-in if no token is found\n            setUser({ id: 'mock-user-123', firstname: 'Guest', name: 'User' });\n            return;\n        }\n\n        const fetchProfile = async () => {\n            try {\n                // Mock axios request success\n                const response = {\n                    data: {\n                        id: 'actual-user-456',\n                        firstname: 'John',\n                        name: 'Doe'\n                    }\n                };\n                // In a real application, you would use the live axios request:\n                // const response = await axios.get('http://localhost:8080/user/profile', {\n                //     headers: { 'Authorization': `Bearer ${token}` }\n                // });\n\n                setUser(response.data);\n            } catch (error) {\n                console.error('Failed to fetch user profile:', error);\n                // localStorage.removeItem('token');\n                // navigate('/login');\n            }\n        };\n\n        fetchProfile();\n    }, [navigate]);\n\n    const displayUserName = user\n        ? `${user.firstname || ''} ${user.name || ''}`.trim()\n        : 'User';\n\n    const getThemeIcon = () => {\n        if (theme === 'light') return '‚òÄÔ∏è';\n        if (theme === 'dark') return 'üåô';\n        return 'üëì';\n    };\n\n    return (\n        <div className={`dashboard ${theme}`} style={{\n            minHeight: '100vh',\n            backgroundColor: theme === 'dark' ? '#1f2937' : '#f3f4f6',\n            color: theme === 'dark' ? '#f3f4f6' : '#1f2937'\n        }}>\n            <nav style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                padding: '1rem 2rem',\n                borderBottom: '1px solid #4b5563',\n                backgroundColor: theme === 'dark' ? '#374151' : '#ffffff'\n            }}>\n                {/* Updated H1 to include the logo */}\n                <h1 style={{ display: 'flex', alignItems: 'center', gap: '10px', fontSize: '1.5rem', fontWeight: 'bold' }}>\n                    <img\n                        src={LOGO_URL}\n                        alt=\"e-todo logo\"\n                        style={{ height: '30px', width: 'auto' }} // Adjust size here\n                    />\n                    Welcome, {displayUserName}!\n                </h1>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                    <button\n                        onClick={toggleTheme}\n                        style={{ padding: '0.5rem 1rem', borderRadius: '0.5rem', border: 'none', cursor: 'pointer', backgroundColor: '#60a5fa', color: 'white' }}\n                    >\n                        {getThemeIcon()}\n                    </button>\n                    <button\n                        onClick={() => {\n                            localStorage.removeItem('token');\n                            // navigate('/login');\n                            console.log('Logged out and redirecting...');\n                            setUser(null);\n                        }}\n                        style={{ padding: '0.5rem 1rem', borderRadius: '0.5rem', border: 'none', cursor: 'pointer', backgroundColor: '#ef4444', color: 'white' }}\n                    >Logout</button>\n                </div>\n            </nav>\n            {user ? (\n                // TodoList is now using the mock definition above\n                <TodoList userId={user.id} />\n            ) : (\n                <p style={{ textAlign: 'center', padding: '2rem' }}>Loading your tasks...</p>\n            )}\n        </div>\n    );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}